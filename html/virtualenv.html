


<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Virtualenv &#8212; demo1 1.0.0 documentation</title>
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/cloud.css" type="text/css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noticia+Text:400,i,b,bi|Open+Sans:400,i,b,bi|Roboto+Mono:400,i,b,bi&amp;display=swap" type="text/css" />
    
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>

    
    
     
        <script src="_static/jquery.cookie.js"></script>
    

    
     
        <script src="_static/cloud.base.js"></script>
    

    
     
        <script src="_static/cloud.js"></script>
    

    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Type hinting and annotations" href="typehinting.html" />
    <link rel="prev" title="Iterators, generators and decorators" href="igd.html" /> 
        <meta name="viewport" content="width=device-width, initial-scale=1">
  </head><body>
    <div class="relbar-top">
        
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="typehinting.html" title="Type hinting and annotations"
             accesskey="N">next</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="igd.html" title="Iterators, generators and decorators"
             accesskey="P">previous</a> &nbsp; &nbsp;</li>
    <li><a href="index.html">demo1 1.0.0 documentation</a> &#187;</li>

        <li class="nav-item nav-item-this"><a href="">Virtualenv</a></li> 
      </ul>
    </div>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="virtualenv">
<h1>Virtualenv<a class="headerlink" href="#virtualenv" title="Permalink to this headline">¬∂</a></h1>
<p>Virtual Python Environment or venv is a Python environment which will help you
to install different versions of Python modules in a local directory using which
you can develop and test your code without requiring to install everything
systemwide.</p>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¬∂</a></h2>
<p>In Python3 we can use the  <strong>venv</strong> module to create virtual environments.</p>
</div>
<div class="section" id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¬∂</a></h2>
<p>We will create a directory call <em>virtual</em> inside which we will have two
different virtual environment.</p>
<p>The following commands will create an env called virt1.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ cd virtual
$ python3 -m venv virt1
$
</pre></div>
</div>
<p>Now we can activate the virt1 environment.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ source virt1/bin/activate
(virt1)[user@host]$
</pre></div>
</div>
<p>The first part of the prompt is now the name of the virtual environment, it
will help you identify which environment you are in when you have multiple
environments.</p>
<p>To deactivate the environment use <em>deactivate</em> command.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>(virt1)$ deactivate
$
</pre></div>
</div>
<p>So, now we will install a Python module called redis.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>(virt1)$ python3 -m pip install redis
Collecting redis
  Downloading redis-2.10.5-py2.py3-none-any.whl (60kB)
    100% |‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 61kB 607kB/s
Installing collected packages: redis
Successfully installed redis-2.10.5
</pre></div>
</div>
<div class="floater admonition seealso">
<p class="admonition-title">See also</p>
<p>Read <a class="reference external" href="https://snarky.ca/why-you-should-use-python-m-pip/">this blog post</a> from Brett Cannon to understand why you should use
<cite>python3 -m pip</cite> to install packages.</p>
</div>
<p>Now we will create another virtual environment <em>virt2</em> where we will
install the same redis module but an old 2.4 version of it.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ python3 -m venv virt2
$ source virt2/bin/activate
(virt2)$
(virt2)$ python3 -m pip install redis==2.4
Downloading/unpacking redis
Downloading redis-2.4.0.tar.gz
Running setup.py egg_info for package redis
Installing collected packages: redis
Running setup.py install for redis
Successfully installed redis
Cleaning up...
</pre></div>
</div>
<p>This way you can have many different environments for all of your development
needs.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Always remember to create virtualenvs while developing new applications. This will help you keep the system modules clean.</p>
</div>
</div>
<div class="section" id="pipenv">
<h2>Pipenv<a class="headerlink" href="#pipenv" title="Permalink to this headline">¬∂</a></h2>
<p><a class="reference external" href="https://docs.pipenv.org/">Pipenv</a> is a tool created by <a class="reference external" href="https://www.kennethreitz.org/">Kenneth Reitz</a> which helps to create, manage the
virtualenvs for your projects. It also helps to install/uninstall/update the
dependencies of your project.</p>
<div class="section" id="installing-pipenv">
<h3>Installing pipenv<a class="headerlink" href="#installing-pipenv" title="Permalink to this headline">¬∂</a></h3>
<p>We can install pipenv by the following command.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ python3 -m pip install --user pipenv
</pre></div>
</div>
</div>
<div class="section" id="using-pipenv">
<h3>Using pipenv<a class="headerlink" href="#using-pipenv" title="Permalink to this headline">¬∂</a></h3>
<p>You can go to your project directory, and then use the command <strong>pipenv
install</strong> to create a new virtualenv for you. You can also pass any module
name which <em>pipenv</em> will install on the environment.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ mkdir myproject
$ cd myproject
$ pipenv install requests
Creating a virtualenv for this project‚Ä¶
Using /usr/bin/python3 (3.6.5) to create virtualenv‚Ä¶
‚†ãAlready using interpreter /usr/bin/python3
Using base prefix &#39;/usr&#39;
New python executable in /home/fedora/.local/share/virtualenvs/myproject-dbBcpQ4l/bin/python3
Also creating executable in /home/fedora/.local/share/virtualenvs/myproject-dbBcpQ4l/bin/python
Installing setuptools, pip, wheel...done.

Virtualenv location: /home/fedora/.local/share/virtualenvs/myproject-dbBcpQ4l
Creating a Pipfile for this project‚Ä¶
Installing requests‚Ä¶
Collecting requests
Downloading https://files.pythonhosted.org/packages/49/df/50aa1999ab9bde74656c2919d9c0c085fd2b3775fd3eca826012bef76d8c/requests-2.18.4-py2.py3-none-any.whl (88kB)
Collecting chardet&lt;3.1.0,&gt;=3.0.2 (from requests)
Downloading https://files.pythonhosted.org/packages/bc/a9/01ffebfb562e4274b6487b4bb1ddec7ca55ec7510b22e4c51f14098443b8/chardet-3.0.4-py2.py3-none-any.whl (133kB)
Collecting idna&lt;2.7,&gt;=2.5 (from requests)
Downloading https://files.pythonhosted.org/packages/27/cc/6dd9a3869f15c2edfab863b992838277279ce92663d334df9ecf5106f5c6/idna-2.6-py2.py3-none-any.whl (56kB)
Collecting certifi&gt;=2017.4.17 (from requests)
Using cached https://files.pythonhosted.org/packages/7c/e6/92ad559b7192d846975fc916b65f667c7b8c3a32bea7372340bfe9a15fa5/certifi-2018.4.16-py2.py3-none-any.whl
Collecting urllib3&lt;1.23,&gt;=1.21.1 (from requests)
Downloading https://files.pythonhosted.org/packages/63/cb/6965947c13a94236f6d4b8223e21beb4d576dc72e8130bd7880f600839b8/urllib3-1.22-py2.py3-none-any.whl (132kB)
Installing collected packages: chardet, idna, certifi, urllib3, requests
Successfully installed certifi-2018.4.16 chardet-3.0.4 idna-2.6 requests-2.18.4 urllib3-1.22

Adding requests to Pipfile&#39;s [packages]‚Ä¶
Pipfile.lock not found, creating‚Ä¶
Locking [dev-packages] dependencies‚Ä¶
Locking [packages] dependencies‚Ä¶
Updated Pipfile.lock (b14837)!
Installing dependencies from Pipfile.lock (b14837)‚Ä¶
üêç   ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ 5/5 ‚Äî 00:00:02
To activate this project&#39;s virtualenv, run the following:
$ pipenv shell
</pre></div>
</div>
<p>The above command will create a new virtualenv and then also install
<em>requests</em> module in the environment. You can then use <strong>pipenv shell</strong>
command to activate that environment. For our example, we will use
the following Python code in a file named <em>main.py</em>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;https://httpbin.org/ip&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Your IP is </span><span class="si">{0}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;origin&#39;</span><span class="p">]))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pipenv shell
$ $ python main.py
Your IP is 192.168.1.2
</pre></div>
</div>
</div>
<div class="section" id="exiting-from-the-virtualenv">
<h3>Exiting from the virtualenv<a class="headerlink" href="#exiting-from-the-virtualenv" title="Permalink to this headline">¬∂</a></h3>
<p>You can exit from the virtualenv using <strong>exit</strong> command, or by pressing <em>Ctrl+d</em>.</p>
</div>
</div>
<div class="section" id="pipfile-and-pipfile-lock">
<h2>Pipfile and Pipfile.lock<a class="headerlink" href="#pipfile-and-pipfile-lock" title="Permalink to this headline">¬∂</a></h2>
<p>If you notice your project directory after you have used <strong>pipenv</strong>, you will
find two new files inside, <em>Pipfile</em> and <em>Pipfile.lock</em>. These files have been
created by the <strong>pipenv</strong> command. You should checkin these two files into
your version control system (say: git), so that others can create the exact
same environment of yours.</p>
<div class="section" id="pipfile">
<h3>Pipfile<a class="headerlink" href="#pipfile" title="Permalink to this headline">¬∂</a></h3>
<p>The following is the content of our <em>Pipfile</em>. It is using the <a class="reference external" href="https://en.wikipedia.org/wiki/TOML">TOML</a> file format.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span><span class="n">source</span><span class="p">]]</span>
<span class="n">verify_ssl</span> <span class="o">=</span> <span class="n">true</span>
<span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;pypi&quot;</span>
<span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://pypi.python.org/simple&quot;</span>

<span class="p">[</span><span class="n">dev</span><span class="o">-</span><span class="n">packages</span><span class="p">]</span>

<span class="p">[</span><span class="n">requires</span><span class="p">]</span>
<span class="n">python_version</span> <span class="o">=</span> <span class="s2">&quot;3.6.5&quot;</span>

<span class="p">[</span><span class="n">packages</span><span class="p">]</span>
<span class="n">requests</span> <span class="o">=</span> <span class="s2">&quot;*&quot;</span>
</pre></div>
</div>
<p>On the top it tells which source to use to get the packages. It also mentions
the Python version required. The packages section tells us what all Python
packages we need. The string <cite>‚Äú*‚Äù</cite> means install the latest version available
on the package index. The exact version details of the packages are stored in
the <em>Pipfile.lock</em> file, it is in machine readable <a class="reference external" href="https://en.wikipedia.org/wiki/JSON">JSON</a> format.</p>
<p>Remember to install any dependency for your project using <strong>pipenv</strong> comamnd,
that will automatically update your <em>Pipfile</em> and <em>Pipfile.lock</em> file. If you
have any dependency which is only required for the development, you can
install them marked as <em>dev-packages</em>. In the following example I am installing
<em>flake8</em> as development dependency.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pipenv install --dev flake8
$ cat Pipfile
[[source]]
verify_ssl = true
name = &quot;pypi&quot;
url = &quot;https://pypi.python.org/simple&quot;

[dev-packages]
&quot;flake8&quot; = &quot;*&quot;

[requires]
python_version = &quot;3.6.5&quot;

[packages]
requests = &quot;*&quot;
</pre></div>
</div>
<p>You can watch <a class="reference external" href="https://www.youtube.com/watch?v=GBQAKldqgZs">this talk</a> by
Kenneth from PyCon 2018 to know more about <em>Pipenv</em>.</p>
<p>Through out the rest of the book, we will use <strong>pipenv</strong> to create and manage
virtualenvs for any code.</p>
</div>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><p class="logo">
  <a href="index.html">
    <img class="logo" src="_static/pym.png" alt="Logo"/>
  </a>
</p>
<p>
<iframe src="http://ghbtns.com/github-btn.html?user=kushaldas&repo=pym&type=watch&count=true&size=large"
    allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>

<p>
  pym is a book to learn Python.
  It targets people who are completely
  new to the language.
</p>
<script type="text/javascript">
  var _gauges = _gauges || [];
  (function() {
    var t   = document.createElement('script');
    t.type  = 'text/javascript';
    t.async = true;
    t.id    = 'gauges-tracker';
    t.setAttribute('data-site-id', '5225487b613f5d4eaf000117');
    t.setAttribute('data-track-path', 'https://track.gaug.es/track.gif');
    t.src = 'https://d2fuc4clr7gvcn.cloudfront.net/track.js';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(t, s);
  })();
</script><div class="sphinx-toc sphinxlocaltoc">
    <h3><a href="index.html">Page contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Virtualenv</a><ul>
<li><a class="reference internal" href="#installation">Installation</a></li>
<li><a class="reference internal" href="#usage">Usage</a></li>
<li><a class="reference internal" href="#pipenv">Pipenv</a><ul>
<li><a class="reference internal" href="#installing-pipenv">Installing pipenv</a></li>
<li><a class="reference internal" href="#using-pipenv">Using pipenv</a></li>
<li><a class="reference internal" href="#exiting-from-the-virtualenv">Exiting from the virtualenv</a></li>
</ul>
</li>
<li><a class="reference internal" href="#pipfile-and-pipfile-lock">Pipfile and Pipfile.lock</a><ul>
<li><a class="reference internal" href="#pipfile">Pipfile</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>
  <div class="sphinxprev">
    <h4>Previous page</h4>
    <p class="topless"><a href="igd.html"
                          title="Previous page">&larr; Iterators, generators and decorators</a></p>
  </div>
  <div class="sphinxnext">
    <h4>Next page</h4>
    <p class="topless"><a href="typehinting.html"
                          title="Next page">&rarr; Type hinting and annotations</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/virtualenv.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
    
    
        <div class="sidebar-toggle-group no-js">
            
            <button class="sidebar-toggle" id="sidebar-hide" title="Hide the sidebar menu">
                 ¬´
                <span class="show-for-small">hide menu</span>
                
            </button>
            <button class="sidebar-toggle" id="sidebar-show" title="Show the sidebar menu">
                
                <span class="show-for-small">menu</span>
                <span class="hide-for-small">sidebar</span>
                 ¬ª
            </button>
        </div>
    
      <div class="clearer"></div>
    </div>
    <div class="relbar-bottom">
        
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="typehinting.html" title="Type hinting and annotations"
             >next</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="igd.html" title="Iterators, generators and decorators"
             >previous</a> &nbsp; &nbsp;</li>
    <li><a href="index.html">demo1 1.0.0 documentation</a> &#187;</li>

        <li class="nav-item nav-item-this"><a href="">Virtualenv</a></li> 
      </ul>
    </div>
    </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2021, ishan.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.5.3.
    </div>
    <!-- cloud_sptheme 1.4 -->
  </body>
</html>